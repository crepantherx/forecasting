<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WiFi Demand Forecasting - Australian Cities</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>WiFi Service Demand Forecasting</h1>
            <p>Australian Cities - Predictive Analytics Dashboard</p>
        </header>

        <!-- Navigation -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="overview">Overview & Forecast</button>
            <button class="tab-btn" data-tab="engineer">Service Engineer View</button>
            <button class="tab-btn" data-tab="emulation">Emulation & Data</button>
            <button class="tab-btn" data-tab="performance">Performance</button>
        </nav>

        <!-- Overview & Forecast Tab (merged) -->
        <div id="overview" class="tab-content active">
            <div class="grid-2">
                <div class="card">
                    <h2>City Selector</h2>
                    <select id="citySelect" class="city-select">
                        <option value="Sydney">Sydney</option>
                        <option value="Melbourne">Melbourne</option>
                        <option value="Brisbane">Brisbane</option>
                        <option value="Perth">Perth</option>
                        <option value="Adelaide">Adelaide</option>
                        <option value="Canberra">Canberra</option>
                    </select>
                    <div id="currentStats" style="margin-top: 20px;"></div>
                </div>
                <div class="card">
                    <h2>Generate Forecast</h2>
                    <div class="form-grid">
                        <div>
                            <label>Model</label>
                            <select id="forecastModel">
                                <optgroup label="Classical">
                                    <option value="arima">ARIMA</option>
                                    <option value="sarima">SARIMA</option>
                                    <option value="es">Exponential Smoothing</option>
                                </optgroup>
                                <optgroup label="Machine Learning">
                                    <option value="rf" selected>Random Forest</option>
                                    <option value="gbm">Gradient Boosting</option>
                                    <option value="svm">SVM</option>
                                    <option value="xgboost">XGBoost</option>
                                </optgroup>
                                <optgroup label="Deep Learning">
                                    <option value="lstm">LSTM</option>
                                    <option value="gru">GRU</option>
                                    <option value="transformer">Transformer</option>
                                </optgroup>
                            </select>
                        </div>
                        <div>
                            <label>Days</label>
                            <input type="number" id="forecastHorizon" value="7" min="1" max="14">
                        </div>
                    </div>
                    <button id="generateForecastBtn" class="btn btn-primary">Generate Forecast</button>
                </div>
            </div>
            <div class="card">
                <h2>Historical Data + Forecast (Live)</h2>
                <canvas id="mainChart"></canvas>
            </div>
        </div>

        <!-- Service Engineer View -->
        <div id="engineer" class="tab-content">
            <div class="card">
                <h2>ðŸ”§ Service Engineer Tablet View</h2>
                <p>Simulates what engineers see on their tablets with smart job allocation</p>
                <div class="form-grid">
                    <div>
                        <label>Engineer Name</label>
                        <input type="text" id="engineerName" value="Engineer #1" placeholder="Your name">
                    </div>
                    <div>
                        <label>Current Location</label>
                        <select id="engineerLocation" class="city-select">
                            <option value="Sydney">Sydney</option>
                            <option value="Melbourne">Melbourne</option>
                            <option value="Brisbane">Brisbane</option>
                            <option value="Perth">Perth</option>
                            <option value="Adelaide">Adelaide</option>
                            <option value="Canberra">Canberra</option>
                        </select>
                    </div>
                    <div>
                        <button id="loadJobsBtn" class="btn btn-success">Load Available Jobs</button>
                    </div>
                </div>
            </div>
            <div class="card">
                <h2>Available Jobs (Smart Allocation)</h2>
                <div id="jobsList"></div>
            </div>
            <div class="card">
                <h2>Workload Distribution Across Cities</h2>
                <canvas id="workloadChart"></canvas>
            </div>
        </div>

        <!-- Emulation & Data Tab -->
        <div id="emulation" class="tab-content">
            <div class="card">
                <h2>Emulate New Day</h2>
                <div class="form-grid">
                    <div>
                        <label>City</label>
                        <select id="emulateCity" class="city-select">
                            <option value="Sydney">Sydney</option>
                            <option value="Melbourne">Melbourne</option>
                            <option value="Brisbane">Brisbane</option>
                            <option value="Perth">Perth</option>
                            <option value="Adelaide">Adelaide</option>
                            <option value="Canberra">Canberra</option>
                        </select>
                    </div>
                    <div>
                        <label>Actual Request Count</label>
                        <input type="number" id="emulateCount" value="150" min="0">
                    </div>
                    <div>
                        <label>Temperature (Â°C)</label>
                        <input type="number" id="emulateTemp" value="25" step="0.1">
                    </div>
                    <div>
                        <label>Rainfall (mm)</label>
                        <input type="number" id="emulateRain" value="0" step="0.1" min="0">
                    </div>
                </div>
                <button id="emulateBtn" class="btn btn-success">Emulate New Day</button>
                <div id="emulationResults" style="margin-top: 15px;"></div>
            </div>
            <div class="card">
                <h2>Complete Dataset (All Cities)</h2>
                <div style="margin-bottom: 10px;">
                    <label>Filter by City:</label>
                    <select id="dataFilterCity">
                        <option value="">All Cities</option>
                        <option value="Sydney">Sydney</option>
                        <option value="Melbourne">Melbourne</option>
                        <option value="Brisbane">Brisbane</option>
                        <option value="Perth">Perth</option>
                        <option value="Adelaide">Adelaide</option>
                        <option value="Canberra">Canberra</option>
                    </select>
                    <button id="loadDataBtn" class="btn btn-primary">Load Data</button>
                </div>
                <div id="dataTable" style="max-height: 500px; overflow-y: auto;"></div>
            </div>
        </div>

        <!-- Performance Tab -->
        <div id="performance" class="tab-content">
            <div class="card">
                <h2>Model Performance Metrics</h2>
                <div id="performanceTable"></div>
            </div>
            <div class="card">
                <h2>Accuracy Comparison</h2>
                <canvas id="performanceChart"></canvas>
            </div>
        </div>

        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="spinner"></div>
            <p>Processing...</p>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>